安全是Uber的核心问题。在确保安全方面，最关键的就是确保接乘客的司机和通过Uber审核的注册司机是同一人。目前，Uber已经采取了极具前瞻性的全新措施——实时ID检验（Real-Time ID Check）来确保乘客的安全。这一新功能可以防止乘客遇到未认证的司机，也能通过确保司机本身账户的安全来防止诈骗行为。以下就是Uber的安全团队如何设计出这个工具的小故事。

为了找到一个既有效，又可扩展的解决方案，我们需要一种在全球范围内都能有较高可信度的技术。在一开始，我们评估了各种前沿的面部、语音以及手势识别技术，然而由于环境的多样性，每一种技术都或多或少存在着独特的缺陷。

语音识别的一个棘手问题是，识别的效果会因为背景音乐和交通噪音的干扰而大打折扣。而且对于具有表达障碍的司机来说，这个方法也并不适用。在有限的环境中，对于一群懂科技的用户来说，手势识别的效果非常好。然而，由于用户体验和陡峭的学习曲线，这个方法在全球范围内也不实用。

面部识别是在我们评估的所有方法中效果最好的。一个典型的面部识别算法包括以下三个步骤：

在决定使用面部识别技术之后，我们研究了许多行业领先的供应商并且做了对比分析。我们在横坐标为配对置信阈值的图表上标绘出每个供应商的真阳性率（true positive rate, TPR）和假阳性率（false positive rate, FPR）之比，形成了受试者工作特征曲线（receiver operating curve, ROC）。ROC能让我们清楚地看到，当FPR最小时，TPR可能取到的最大值是哪个。最终，我们根据最高的TPR值，选择使用微软的认知服务套装中的Face API。

微软的Face API不仅是我们的测试中最为准确的，它还能为我们的产品提供一个重要特征的强大集合。我们的Real-Time ID Check使用两个特别的API：

Real-Time ID Check的一个关键目标就是避免给司机带来不必要的摩擦。因此，我们致力于在项目的每一个阶段都最大程度上地将用户体验无缝化。我们基于用户反馈以及原型试验，优化并修正了设计。就这样，我们的识别系统变得简洁又高效——司机只需要花几秒钟就能完成了。

我们原先司机端的UI适应的是拍摄账户头像的拍摄需求，然而我们很快意识到，在光线昏暗的环境中，深色背景的UI会让照片拍摄效果大打折扣。为解决这个问题，我们就把UI改成了白色，增加了屏幕的亮度，从而迅速提升了所拍照片的质量。

在使用微软Face API之前，我们原本在客户端使用脸部识别技术，确保在自拍中有人脸存在。然而，我们大多数司机使用的低端安卓手机并不支持面部识别。有一些声称支持面部识别的手机也不管用。

通过Face API，我们转换了检测逻辑，把检测放到后端，去除了硬件的限制。这就让结果更加具有连续性，让我们能够更清楚地对检测失败做出诊断。而且，司机的照片质量也得到了提升。

作为实实在在的安全措施，Real-Time ID Check随机抽取司机要求验证身份。由于随机性，验证要求可能会在司机开车的时候跳出来。为了防止分散司机的注意力，我们增加了基于司机手机GPS的运动探测功能。如果车子在移动，我们会提醒司机靠边停车，再开始验证。

虽然微软Face API可以检测出人脸上戴着的是太阳镜还是普通眼镜，眼镜还是会影响照片的配对成功率。如果照片不能配对，而且检测出图片上的人戴着眼镜的话，软件会请司机摘掉眼镜之后重新拍摄。

一个产品真正的成功反映在它对人们生活的影响上。自从我们在2016年9月发布之后，市场上超过99%的司机都通过了Real-Time ID Check，大部分的不匹配都是由于用户照片不清晰。在知道了他们的司机身份已经通过验证之后，乘客们就可以放心乘车；司机们也不用担心自己的账户会被盗用来诈骗了。